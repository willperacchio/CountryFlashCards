import{s as pe,f as $,g as nn,h as hn,d as en,i as he,y as _n,A as Fe,o as Re,p as We,a as Rn,B as Wn,c as Bn,j as un,x as Y}from"../chunks/scheduler.6350f723.js";import{S as _e,i as me,b as Be,d as ze,m as Ve,a as qe,t as Ge,e as Ke}from"../chunks/index.621f6b92.js";function zn(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,typeof(o=function(i,u){if(typeof i!="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var c=s.call(i,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(r.key))=="symbol"?o:String(o),r)}var o}function D(n,e,t){return e&&zn(n.prototype,e),t&&zn(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function C(){return C=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},C.apply(this,arguments)}function T(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Hn(n,e)}function Hn(n,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Hn(n,e)}function Vn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function O(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function(o,i){if(o){if(typeof o=="string")return qn(o,i);var u=Object.prototype.toString.call(o).slice(8,-1);return u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?qn(o,i):void 0}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W;(function(n){n[n.Init=0]="Init",n[n.Loading=1]="Loading",n[n.Loaded=2]="Loaded",n[n.Rendered=3]="Rendered",n[n.Error=4]="Error"})(W||(W={}));var kn,x,ve,ge,an,Gn,ye,bn={},be=[],Xe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function J(n,e){for(var t in e)n[t]=e[t];return n}function we(n){var e=n.parentNode;e&&e.removeChild(n)}function _(n,e,t){var r,o,i,u={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:u[i]=e[i];if(arguments.length>2&&(u.children=arguments.length>3?kn.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(i in n.defaultProps)u[i]===void 0&&(u[i]=n.defaultProps[i]);return mn(n,u,r,o,null)}function mn(n,e,t,r,o){var i={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++ve};return o==null&&x.vnode!=null&&x.vnode(i),i}function V(n){return n.children}function vn(n,e){this.props=n,this.context=e}function ln(n,e){if(e==null)return n.__?ln(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?ln(n):null}function xe(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return xe(n)}}function Dn(n){(!n.__d&&(n.__d=!0)&&an.push(n)&&!wn.__r++||Gn!==x.debounceRendering)&&((Gn=x.debounceRendering)||setTimeout)(wn)}function wn(){for(var n;wn.__r=an.length;)n=an.sort(function(e,t){return e.__v.__b-t.__v.__b}),an=[],n.some(function(e){var t,r,o,i,u,s;e.__d&&(u=(i=(t=e).__v).__e,(s=t.__P)&&(r=[],(o=J({},i)).__v=i.__v+1,Mn(s,i,o,t.__n,s.ownerSVGElement!==void 0,i.__h!=null?[u]:null,r,u??ln(i),i.__h),Ce(r,i),i.__e!=u&&xe(i)))})}function ke(n,e,t,r,o,i,u,s,c,f){var a,p,d,l,h,S,b,v=r&&r.__k||be,N=v.length;for(t.__k=[],a=0;a<e.length;a++)if((l=t.__k[a]=(l=e[a])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?mn(null,l,null,null,l):Array.isArray(l)?mn(V,{children:l},null,null,null):l.__b>0?mn(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null){if(l.__=t,l.__b=t.__b+1,(d=v[a])===null||d&&l.key==d.key&&l.type===d.type)v[a]=void 0;else for(p=0;p<N;p++){if((d=v[p])&&l.key==d.key&&l.type===d.type){v[p]=void 0;break}d=null}Mn(n,l,d=d||bn,o,i,u,s,c,f),h=l.__e,(p=l.ref)&&d.ref!=p&&(b||(b=[]),d.ref&&b.push(d.ref,null,l),b.push(p,l.__c||h,l)),h!=null?(S==null&&(S=h),typeof l.type=="function"&&l.__k===d.__k?l.__d=c=Ne(l,c,n):c=Se(n,l,d,v,h,c),typeof t.type=="function"&&(t.__d=c)):c&&d.__e==c&&c.parentNode!=n&&(c=ln(d))}for(t.__e=S,a=N;a--;)v[a]!=null&&Ee(v[a],v[a]);if(b)for(a=0;a<b.length;a++)Pe(b[a],b[++a],b[++a])}function Ne(n,e,t){for(var r,o=n.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=n,e=typeof r.type=="function"?Ne(r,e,t):Se(t,r,r,o,r.__e,e));return e}function Se(n,e,t,r,o,i){var u,s,c;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(t==null||o!=i||o.parentNode==null)n:if(i==null||i.parentNode!==n)n.appendChild(o),u=null;else{for(s=i,c=0;(s=s.nextSibling)&&c<r.length;c+=1)if(s==o)break n;n.insertBefore(o,i),u=i}return u!==void 0?u:o.nextSibling}function Kn(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||Xe.test(e)?t:t+"px"}function pn(n,e,t,r,o){var i;n:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Kn(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Kn(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+i]=t,t?r||n.addEventListener(e,i?Jn:Xn,i):n.removeEventListener(e,i?Jn:Xn,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break n}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function Xn(n){this.l[n.type+!1](x.event?x.event(n):n)}function Jn(n){this.l[n.type+!0](x.event?x.event(n):n)}function Mn(n,e,t,r,o,i,u,s,c){var f,a,p,d,l,h,S,b,v,N,g,w,j,M,m,y=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,s=e.__e=t.__e,e.__h=null,i=[s]),(f=x.__b)&&f(e);try{n:if(typeof y=="function"){if(b=e.props,v=(f=y.contextType)&&r[f.__c],N=f?v?v.props.value:f.__:r,t.__c?S=(a=e.__c=t.__c).__=a.__E:("prototype"in y&&y.prototype.render?e.__c=a=new y(b,N):(e.__c=a=new vn(b,N),a.constructor=y,a.render=Ze),v&&v.sub(a),a.props=b,a.state||(a.state={}),a.context=N,a.__n=r,p=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),y.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=J({},a.__s)),J(a.__s,y.getDerivedStateFromProps(b,a.__s))),d=a.props,l=a.state,p)y.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(y.getDerivedStateFromProps==null&&b!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(b,N),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(b,a.__s,N)===!1||e.__v===t.__v){for(a.props=b,a.state=a.__s,e.__v!==t.__v&&(a.__d=!1),a.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(z){z&&(z.__=e)}),g=0;g<a._sb.length;g++)a.__h.push(a._sb[g]);a._sb=[],a.__h.length&&u.push(a);break n}a.componentWillUpdate!=null&&a.componentWillUpdate(b,a.__s,N),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,l,h)})}if(a.context=N,a.props=b,a.__v=e,a.__P=n,w=x.__r,j=0,"prototype"in y&&y.prototype.render){for(a.state=a.__s,a.__d=!1,w&&w(e),f=a.render(a.props,a.state,a.context),M=0;M<a._sb.length;M++)a.__h.push(a._sb[M]);a._sb=[]}else do a.__d=!1,w&&w(e),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++j<25);a.state=a.__s,a.getChildContext!=null&&(r=J(J({},r),a.getChildContext())),p||a.getSnapshotBeforeUpdate==null||(h=a.getSnapshotBeforeUpdate(d,l)),m=f!=null&&f.type===V&&f.key==null?f.props.children:f,ke(n,Array.isArray(m)?m:[m],e,t,r,o,i,u,s,c),a.base=e.__e,e.__h=null,a.__h.length&&u.push(a),S&&(a.__E=a.__=null),a.__e=!1}else i==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Je(t.__e,e,t,r,o,i,u,c);(f=x.diffed)&&f(e)}catch(z){e.__v=null,(c||i!=null)&&(e.__e=s,e.__h=!!c,i[i.indexOf(s)]=null),x.__e(z,e,t)}}function Ce(n,e){x.__c&&x.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){x.__e(r,t.__v)}})}function Je(n,e,t,r,o,i,u,s){var c,f,a,p=t.props,d=e.props,l=e.type,h=0;if(l==="svg"&&(o=!0),i!=null){for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!l&&(l?c.localName===l:c.nodeType===3)){n=c,i[h]=null;break}}if(n==null){if(l===null)return document.createTextNode(d);n=o?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,d.is&&d),i=null,s=!1}if(l===null)p===d||s&&n.data===d||(n.data=d);else{if(i=i&&kn.call(n.childNodes),f=(p=t.props||bn).dangerouslySetInnerHTML,a=d.dangerouslySetInnerHTML,!s){if(i!=null)for(p={},h=0;h<n.attributes.length;h++)p[n.attributes[h].name]=n.attributes[h].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===n.innerHTML)||(n.innerHTML=a&&a.__html||""))}if(function(S,b,v,N,g){var w;for(w in v)w==="children"||w==="key"||w in b||pn(S,w,null,v[w],N);for(w in b)g&&typeof b[w]!="function"||w==="children"||w==="key"||w==="value"||w==="checked"||v[w]===b[w]||pn(S,w,b[w],v[w],N)}(n,d,p,o,s),a)e.__k=[];else if(h=e.props.children,ke(n,Array.isArray(h)?h:[h],e,t,r,o&&l!=="foreignObject",i,u,i?i[0]:t.__k&&ln(t,0),s),i!=null)for(h=i.length;h--;)i[h]!=null&&we(i[h]);s||("value"in d&&(h=d.value)!==void 0&&(h!==n.value||l==="progress"&&!h||l==="option"&&h!==p.value)&&pn(n,"value",h,p.value,!1),"checked"in d&&(h=d.checked)!==void 0&&h!==n.checked&&pn(n,"checked",h,p.checked,!1))}return n}function Pe(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){x.__e(r,t)}}function Ee(n,e,t){var r,o;if(x.unmount&&x.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Pe(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){x.__e(i,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&Ee(r[o],e,t||typeof n.type!="function");t||n.__e==null||we(n.__e),n.__=n.__e=n.__d=void 0}function Ze(n,e,t){return this.constructor(n,t)}function sn(n,e,t){var r,o,i;x.__&&x.__(n,e),o=(r=typeof t=="function")?null:t&&t.__k||e.__k,i=[],Mn(e,n=(!r&&t||e).__k=_(V,null,[n]),o||bn,bn,e.ownerSVGElement!==void 0,!r&&t?[t]:o?null:e.firstChild?kn.call(e.childNodes):null,i,!r&&t?t:o?o.__e:e.firstChild,r),Ce(i,n)}function Ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)})}kn=be.slice,x={__e:function(n,e,t,r){for(var o,i,u;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(n)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,r||{}),u=o.__d),u)return o.__E=o}catch(s){n=s}throw n}},ve=0,ge=function(n){return n!=null&&n.constructor===void 0},vn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=J({},this.state),typeof n=="function"&&(n=n(J({},t),this.props)),n&&J(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Dn(this))},vn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Dn(this))},vn.prototype.render=V,an=[],wn.__r=0,ye=0;var Nn=function(){function n(e){this._id=void 0,this._id=e||Ie()}return D(n,[{key:"id",get:function(){return this._id}}]),n}();function Qe(n){return _(n.parentElement||"span",{dangerouslySetInnerHTML:{__html:n.content}})}function xn(n,e){return _(Qe,{content:n,parentElement:e})}var H,On=function(n){function e(r){var o;return(o=n.call(this)||this).data=void 0,o.update(r),o}T(e,n);var t=e.prototype;return t.cast=function(r){return r instanceof HTMLElement?xn(r.outerHTML):r},t.update=function(r){return this.data=this.cast(r),this},e}(Nn),In=function(n){function e(r){var o;return(o=n.call(this)||this)._cells=void 0,o.cells=r||[],o}T(e,n);var t=e.prototype;return t.cell=function(r){return this._cells[r]},t.toArray=function(){return this.cells.map(function(r){return r.data})},e.fromCells=function(r){return new e(r.map(function(o){return new On(o.data)}))},D(e,[{key:"cells",get:function(){return this._cells},set:function(r){this._cells=r}},{key:"length",get:function(){return this.cells.length}}]),e}(Nn),Sn=function(n){function e(t){var r;return(r=n.call(this)||this)._rows=void 0,r._length=void 0,r.rows=t instanceof Array?t:t instanceof In?[t]:[],r}return T(e,n),e.prototype.toArray=function(){return this.rows.map(function(t){return t.toArray()})},e.fromRows=function(t){return new e(t.map(function(r){return In.fromCells(r.cells)}))},e.fromArray=function(t){return new e((t=function(r){return!r[0]||r[0]instanceof Array?r:[r]}(t)).map(function(r){return new In(r.map(function(o){return new On(o)}))}))},D(e,[{key:"rows",get:function(){return this._rows},set:function(t){this._rows=t}},{key:"length",get:function(){return this._length||this.rows.length},set:function(t){this._length=t}}]),e}(Nn),Un=function(){function n(){this.callbacks=void 0}var e=n.prototype;return e.init=function(t){this.callbacks||(this.callbacks={}),t&&!this.callbacks[t]&&(this.callbacks[t]=[])},e.listeners=function(){return this.callbacks},e.on=function(t,r){return this.init(t),this.callbacks[t].push(r),this},e.off=function(t,r){var o=t;return this.init(),this.callbacks[o]&&this.callbacks[o].length!==0?(this.callbacks[o]=this.callbacks[o].filter(function(i){return i!=r}),this):this},e.emit=function(t){var r=arguments,o=t;return this.init(o),this.callbacks[o].length>0&&(this.callbacks[o].forEach(function(i){return i.apply(void 0,[].slice.call(r,1))}),!0)},n}();(function(n){n[n.Initiator=0]="Initiator",n[n.ServerFilter=1]="ServerFilter",n[n.ServerSort=2]="ServerSort",n[n.ServerLimit=3]="ServerLimit",n[n.Extractor=4]="Extractor",n[n.Transformer=5]="Transformer",n[n.Filter=6]="Filter",n[n.Sort=7]="Sort",n[n.Limit=8]="Limit"})(H||(H={}));var G=function(n){function e(r){var o;return(o=n.call(this)||this).id=void 0,o._props=void 0,o._props={},o.id=Ie(),r&&o.setProps(r),o}T(e,n);var t=e.prototype;return t.process=function(){var r=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,r),this.emit.apply(this,["beforeProcess"].concat(r));var o=this._process.apply(this,r);return this.emit.apply(this,["afterProcess"].concat(r)),o},t.setProps=function(r){return Object.assign(this._props,r),this.emit("propsUpdated",this),this},D(e,[{key:"props",get:function(){return this._props}}]),e}(Un),Ye=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){return this.props.keyword?(r=String(this.props.keyword).trim(),o=this.props.columns,i=this.props.ignoreHiddenColumns,u=t,s=this.props.selector,r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Sn(u.rows.filter(function(c,f){return c.cells.some(function(a,p){if(!a||i&&o&&o[p]&&typeof o[p]=="object"&&o[p].hidden)return!1;var d="";if(typeof s=="function")d=s(a.data,f,p);else if(typeof a.data=="object"){var l=a.data;l&&l.props&&l.props.content&&(d=l.props.content)}else d=String(a.data);return new RegExp(r,"gi").test(d)})}))):t;var r,o,i,u,s},D(e,[{key:"type",get:function(){return H.Filter}}]),e}(G);function k(){var n="gridjs";return""+n+[].slice.call(arguments).reduce(function(e,t){return e+"-"+t},"")}function P(){return[].slice.call(arguments).map(function(n){return n?n.toString():""}).filter(function(n){return n}).reduce(function(n,e){return(n||"")+" "+e},"").trim()}var fn,L,Ln,Zn,Qn=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){if(!this.props.keyword)return t;var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.keyword)),this.props.body&&(r.body=this.props.body(t.body,this.props.keyword)),C({},t,r)},D(e,[{key:"type",get:function(){return H.ServerFilter}}]),e}(G),cn=0,Le=[],gn=[],Yn=x.__b,$n=x.__r,ne=x.diffed,ee=x.__c,te=x.unmount;function Cn(n,e){x.__h&&x.__h(L,n,cn||e),cn=0;var t=L.__H||(L.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({__V:gn}),t.__[n]}function K(n){return cn=1,function(e,t,r){var o=Cn(fn++,2);if(o.t=e,!o.__c&&(o.__=[oe(void 0,t),function(u){var s=o.__N?o.__N[0]:o.__[0],c=o.t(s,u);s!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=L,!L.u)){L.u=!0;var i=L.shouldComponentUpdate;L.shouldComponentUpdate=function(u,s,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(p){return p.__c});if(f.every(function(p){return!p.__N}))return!i||i.call(this,u,s,c);var a=!1;return f.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(a=!0)}}),!(!a&&o.__c.props===u)&&(!i||i.call(this,u,s,c))}}return o.__N||o.__}(oe,n)}function F(n,e){var t=Cn(fn++,3);!x.__s&&Ae(t.__H,e)&&(t.__=n,t.i=e,L.__H.__h.push(t))}function dn(n){return cn=5,Te(function(){return{current:n}},[])}function Te(n,e){var t=Cn(fn++,7);return Ae(t.__H,e)?(t.__V=n(),t.i=e,t.__h=n,t.__V):t.__}function $e(){for(var n;n=Le.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(yn),n.__H.__h.forEach(jn),n.__H.__h=[]}catch(e){n.__H.__h=[],x.__e(e,n.__v)}}x.__b=function(n){L=null,Yn&&Yn(n)},x.__r=function(n){$n&&$n(n),fn=0;var e=(L=n.__c).__H;e&&(Ln===L?(e.__h=[],L.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=gn,t.__N=t.i=void 0})):(e.__h.forEach(yn),e.__h.forEach(jn),e.__h=[])),Ln=L},x.diffed=function(n){ne&&ne(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Le.push(e)!==1&&Zn===x.requestAnimationFrame||((Zn=x.requestAnimationFrame)||nt)($e)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==gn&&(t.__=t.__V),t.i=void 0,t.__V=gn})),Ln=L=null},x.__c=function(n,e){e.some(function(t){try{t.__h.forEach(yn),t.__h=t.__h.filter(function(r){return!r.__||jn(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],x.__e(r,t.__v)}}),ee&&ee(n,e)},x.unmount=function(n){te&&te(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{yn(r)}catch(o){e=o}}),t.__H=void 0,e&&x.__e(e,t.__v))};var re=typeof requestAnimationFrame=="function";function nt(n){var e,t=function(){clearTimeout(r),re&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);re&&(e=requestAnimationFrame(t))}function yn(n){var e=L,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),L=e}function jn(n){var e=L;n.__c=n.__(),L=e}function Ae(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function oe(n,e){return typeof e=="function"?e(n):e}function R(){return function(n){var e=L.context[n.__c],t=Cn(fn++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(L)),e.props.value):n.__}(je)}var et={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(n,e){return"Page "+n+" of "+e},page:function(n){return"Page "+n},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},tt=function(){function n(t){this._language=void 0,this._defaultLanguage=void 0,this._language=t,this._defaultLanguage=et}var e=n.prototype;return e.getString=function(t,r){if(!r||!t)return null;var o=t.split("."),i=o[0];if(r[i]){var u=r[i];return typeof u=="string"?function(){return u}:typeof u=="function"?u:this.getString(o.slice(1).join("."),u)}return null},e.translate=function(t){var r,o=this.getString(t,this._language);return(r=o||this.getString(t,this._defaultLanguage))?r.apply(void 0,[].slice.call(arguments,1)):t},n}();function Pn(){var n=R();return function(e){var t;return(t=n.translator).translate.apply(t,[e].concat([].slice.call(arguments,1)))}}var ie=function(n){return function(e){return C({},e,{search:{keyword:n}})}};function on(){return R().store}function q(n){var e=on(),t=K(n(e.getState())),r=t[0],o=t[1];return F(function(){return e.subscribe(function(){var i=n(e.getState());r!==i&&o(i)})},[]),r}function rt(){var n,e=K(void 0),t=e[0],r=e[1],o=R(),i=o.search,u=Pn(),s=on().dispatch,c=q(function(l){return l.search});F(function(){t&&t.setProps({keyword:c==null?void 0:c.keyword})},[c,t]),F(function(){r(i.server?new Qn({keyword:i.keyword,url:i.server.url,body:i.server.body}):new Ye({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&s(ie(i.keyword))},[i]),F(function(){return o.pipeline.register(t),function(){return o.pipeline.unregister(t)}},[o,t]);var f,a,p,d=function(l,h){return cn=8,Te(function(){return l},h)}((f=function(l){l.target instanceof HTMLInputElement&&s(ie(l.target.value))},a=t instanceof Qn?i.debounceTimeout||250:0,function(){var l=arguments;return new Promise(function(h){p&&clearTimeout(p),p=setTimeout(function(){return h(f.apply(void 0,[].slice.call(l)))},a)})}),[i,t]);return _("div",{className:k(P("search",(n=o.className)==null?void 0:n.search))},_("input",{type:"search",placeholder:u("search.placeholder"),"aria-label":u("search.placeholder"),onInput:d,className:P(k("input"),k("search","input")),value:(c==null?void 0:c.keyword)||""}))}var ue=function(n){function e(){return n.apply(this,arguments)||this}T(e,n);var t=e.prototype;return t.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},t._process=function(r){var o=this.props.page;return new Sn(r.rows.slice(o*this.props.limit,(o+1)*this.props.limit))},D(e,[{key:"type",get:function(){return H.Limit}}]),e}(G),ae=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.page,this.props.limit)),this.props.body&&(r.body=this.props.body(t.body,this.props.page,this.props.limit)),C({},t,r)},D(e,[{key:"type",get:function(){return H.ServerLimit}}]),e}(G);function ot(){var n=R(),e=n.pagination,t=e.server,r=e.summary,o=r===void 0||r,i=e.nextButton,u=i===void 0||i,s=e.prevButton,c=s===void 0||s,f=e.buttonsCount,a=f===void 0?3:f,p=e.limit,d=p===void 0?10:p,l=e.page,h=l===void 0?0:l,S=e.resetPageOnUpdate,b=S===void 0||S,v=dn(null),N=K(h),g=N[0],w=N[1],j=K(0),M=j[0],m=j[1],y=Pn();F(function(){return v.current=t?new ae({limit:d,page:g,url:t.url,body:t.body}):new ue({limit:d,page:g}),v.current instanceof ae?n.pipeline.on("afterProcess",function(I){return m(I.length)}):v.current instanceof ue&&v.current.on("beforeProcess",function(I){return m(I.length)}),n.pipeline.on("updated",z),n.pipeline.register(v.current),n.pipeline.on("error",function(){m(0),w(0)}),function(){n.pipeline.unregister(v.current),n.pipeline.off("updated",z)}},[]);var z=function(I){b&&I!==v.current&&w(0)},E=function(){return Math.ceil(M/d)},X=function(I){if(I>=E()||I<0||I===g)return null;w(I),v.current.setProps({page:I})};return _("div",{className:P(k("pagination"),n.className.pagination)},_(V,null,o&&M>0&&_("div",{role:"status","aria-live":"polite",className:P(k("summary"),n.className.paginationSummary),title:y("pagination.navigate",g+1,E())},y("pagination.showing")," ",_("b",null,y(""+(g*d+1)))," ",y("pagination.to")," ",_("b",null,y(""+Math.min((g+1)*d,M)))," ",y("pagination.of")," ",_("b",null,y(""+M))," ",y("pagination.results"))),_("div",{className:k("pages")},c&&_("button",{tabIndex:0,role:"button",disabled:g===0,onClick:function(){return X(g-1)},title:y("pagination.previous"),"aria-label":y("pagination.previous"),className:P(n.className.paginationButton,n.className.paginationButtonPrev)},y("pagination.previous")),function(){if(a<=0)return null;var I=Math.min(E(),a),Q=Math.min(g,Math.floor(I/2));return g+Math.floor(I/2)>=E()&&(Q=I-(E()-g)),_(V,null,E()>I&&g-Q>0&&_(V,null,_("button",{tabIndex:0,role:"button",onClick:function(){return X(0)},title:y("pagination.firstPage"),"aria-label":y("pagination.firstPage"),className:n.className.paginationButton},y("1")),_("button",{tabIndex:-1,className:P(k("spread"),n.className.paginationButton)},"...")),Array.from(Array(I).keys()).map(function(A){return g+(A-Q)}).map(function(A){return _("button",{tabIndex:0,role:"button",onClick:function(){return X(A)},className:P(g===A?P(k("currentPage"),n.className.paginationButtonCurrent):null,n.className.paginationButton),title:y("pagination.page",A+1),"aria-label":y("pagination.page",A+1)},y(""+(A+1)))}),E()>I&&E()>g+Q+1&&_(V,null,_("button",{tabIndex:-1,className:P(k("spread"),n.className.paginationButton)},"..."),_("button",{tabIndex:0,role:"button",onClick:function(){return X(E()-1)},title:y("pagination.page",E()),"aria-label":y("pagination.page",E()),className:n.className.paginationButton},y(""+E()))))}(),u&&_("button",{tabIndex:0,role:"button",disabled:E()===g+1||E()===0,onClick:function(){return X(g+1)},title:y("pagination.next"),"aria-label":y("pagination.next"),className:P(n.className.paginationButton,n.className.paginationButtonNext)},y("pagination.next"))))}function it(n,e){return typeof n=="string"?n.indexOf("%")>-1?e/100*parseInt(n,10):parseInt(n,10):n}function Tn(n){return n?Math.floor(n)+"px":""}function ut(n){var e=n.tableRef.cloneNode(!0);return e.style.position="absolute",e.style.width="100%",e.style.zIndex="-2147483640",e.style.visibility="hidden",_("div",{ref:function(t){t&&t.appendChild(e)}})}function at(n){if(!n)return"";var e=n.split(" ");return e.length===1&&/([a-z][A-Z])+/g.test(n)?n:e.map(function(t,r){return r==0?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}).join("")}var Z,B=new(function(){function n(){}var e=n.prototype;return e.format=function(t,r){return"[Grid.js] ["+r.toUpperCase()+"]: "+t},e.error=function(t,r){r===void 0&&(r=!1);var o=this.format(t,"error");if(r)throw Error(o);console.error(o)},e.warn=function(t){console.warn(this.format(t,"warn"))},e.info=function(t){console.info(this.format(t,"info"))},n}());(function(n){n[n.Header=0]="Header",n[n.Footer=1]="Footer",n[n.Cell=2]="Cell"})(Z||(Z={}));var st=function(){function n(){this.plugins=void 0,this.plugins=[]}var e=n.prototype;return e.get=function(t){return this.plugins.find(function(r){return r.id===t})},e.add=function(t){return t.id?this.get(t.id)?(B.error("Duplicate plugin ID: "+t.id),this):(this.plugins.push(t),this):(B.error("Plugin ID cannot be empty"),this)},e.remove=function(t){var r=this.get(t);return r&&this.plugins.splice(this.plugins.indexOf(r),1),this},e.list=function(t){var r;return r=t!=null||t!=null?this.plugins.filter(function(o){return o.position===t}):this.plugins,r.sort(function(o,i){return o.order&&i.order?o.order-i.order:1})},n}();function En(n){var e=this,t=R();if(n.pluginId){var r=t.plugin.get(n.pluginId);return r?_(V,{},_(r.component,C({plugin:r},n.props))):null}return n.position!==void 0?_(V,{},t.plugin.list(n.position).map(function(o){return _(o.component,C({plugin:o},e.props.props))})):null}var rn=function(n){function e(){var r;return(r=n.call(this)||this)._columns=void 0,r._columns=[],r}T(e,n);var t=e.prototype;return t.adjustWidth=function(r,o,i){var u=r.container,s=r.autoWidth;if(!u)return this;var c=u.clientWidth,f={};o.current&&s&&(sn(_(ut,{tableRef:o.current}),i.current),f=function(l){var h=l.querySelector("table");if(!h)return{};var S=h.className,b=h.style.cssText;h.className=S+" "+k("shadowTable"),h.style.tableLayout="auto",h.style.width="auto",h.style.padding="0",h.style.margin="0",h.style.border="none",h.style.outline="none";var v=Array.from(h.parentNode.querySelectorAll("thead th")).reduce(function(N,g){var w;return g.style.width=g.clientWidth+"px",C(((w={})[g.getAttribute("data-column-id")]={minWidth:g.clientWidth},w),N)},{});return h.className=S,h.style.cssText=b,h.style.tableLayout="auto",Array.from(h.parentNode.querySelectorAll("thead th")).reduce(function(N,g){return N[g.getAttribute("data-column-id")].width=g.clientWidth,N},v)}(i.current));for(var a,p=O(e.tabularFormat(this.columns).reduce(function(l,h){return l.concat(h)},[]));!(a=p()).done;){var d=a.value;d.columns&&d.columns.length>0||(!d.width&&s?d.id in f&&(d.width=Tn(f[d.id].width),d.minWidth=Tn(f[d.id].minWidth)):d.width=Tn(it(d.width,c)))}return o.current&&s&&sn(null,i.current),this},t.setSort=function(r,o){for(var i,u=O(o||this.columns||[]);!(i=u()).done;){var s=i.value;s.columns&&s.columns.length>0?s.sort=void 0:s.sort===void 0&&r?s.sort={}:s.sort?typeof s.sort=="object"&&(s.sort=C({},s.sort)):s.sort=void 0,s.columns&&this.setSort(r,s.columns)}},t.setResizable=function(r,o){for(var i,u=O(o||this.columns||[]);!(i=u()).done;){var s=i.value;s.resizable===void 0&&(s.resizable=r),s.columns&&this.setResizable(r,s.columns)}},t.setID=function(r){for(var o,i=O(r||this.columns||[]);!(o=i()).done;){var u=o.value;u.id||typeof u.name!="string"||(u.id=at(u.name)),u.id||B.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),u.columns&&this.setID(u.columns)}},t.populatePlugins=function(r,o){for(var i,u=O(o);!(i=u()).done;){var s=i.value;s.plugin!==void 0&&r.add(C({id:s.id},s.plugin,{position:Z.Cell}))}},e.fromColumns=function(r){for(var o,i=new e,u=O(r);!(o=u()).done;){var s=o.value;if(typeof s=="string"||ge(s))i.columns.push({name:s});else if(typeof s=="object"){var c=s;c.columns&&(c.columns=e.fromColumns(c.columns).columns),typeof c.plugin=="object"&&c.data===void 0&&(c.data=null),i.columns.push(s)}}return i},e.createFromConfig=function(r){var o=new e;return r.from?o.columns=e.fromHTMLTable(r.from).columns:r.columns?o.columns=e.fromColumns(r.columns).columns:!r.data||typeof r.data[0]!="object"||r.data[0]instanceof Array||(o.columns=Object.keys(r.data[0]).map(function(i){return{name:i}})),o.columns.length?(o.setID(),o.setSort(r.sort),o.setResizable(r.resizable),o.populatePlugins(r.plugin,o.columns),o):null},e.fromHTMLTable=function(r){for(var o,i=new e,u=O(r.querySelector("thead").querySelectorAll("th"));!(o=u()).done;){var s=o.value;i.columns.push({name:s.innerHTML,width:s.width})}return i},e.tabularFormat=function(r){var o=[],i=r||[],u=[];if(i&&i.length){o.push(i);for(var s,c=O(i);!(s=c()).done;){var f=s.value;f.columns&&f.columns.length&&(u=u.concat(f.columns))}u.length&&(o=o.concat(this.tabularFormat(u)))}return o},e.leafColumns=function(r){var o=[],i=r||[];if(i&&i.length)for(var u,s=O(i);!(u=s()).done;){var c=u.value;c.columns&&c.columns.length!==0||o.push(c),c.columns&&(o=o.concat(this.leafColumns(c.columns)))}return o},e.maximumDepth=function(r){return this.tabularFormat([r]).length-1},D(e,[{key:"columns",get:function(){return this._columns},set:function(r){this._columns=r}},{key:"visibleColumns",get:function(){return this._columns.filter(function(r){return!r.hidden})}}]),e}(Nn),He=function(){},se=function(n){function e(r){var o;return(o=n.call(this)||this).data=void 0,o.set(r),o}T(e,n);var t=e.prototype;return t.get=function(){try{return Promise.resolve(this.data()).then(function(r){return{data:r,total:r.length}})}catch(r){return Promise.reject(r)}},t.set=function(r){return r instanceof Array?this.data=function(){return r}:r instanceof Function&&(this.data=r),this},e}(He),De=function(n){function e(r){var o;return(o=n.call(this)||this).options=void 0,o.options=r,o}T(e,n);var t=e.prototype;return t.handler=function(r){return typeof this.options.handle=="function"?this.options.handle(r):r.ok?r.json():(B.error("Could not fetch data: "+r.status+" - "+r.statusText,!0),null)},t.get=function(r){var o=C({},this.options,r);return typeof o.data=="function"?o.data(o):fetch(o.url,o).then(this.handler.bind(this)).then(function(i){return{data:o.then(i),total:typeof o.total=="function"?o.total(i):void 0}})},e}(He),lt=function(){function n(){}return n.createFromConfig=function(e){var t=null;return e.data&&(t=new se(e.data)),e.from&&(t=new se(this.tableElementToArray(e.from)),e.from.style.display="none"),e.server&&(t=new De(e.server)),t||B.error("Could not determine the storage type",!0),t},n.tableElementToArray=function(e){for(var t,r,o=[],i=O(e.querySelector("tbody").querySelectorAll("tr"));!(t=i()).done;){for(var u,s=[],c=O(t.value.querySelectorAll("td"));!(u=c()).done;){var f=u.value;f.childNodes.length===1&&f.childNodes[0].nodeType===Node.TEXT_NODE?s.push((r=f.innerHTML,new DOMParser().parseFromString(r,"text/html").documentElement.textContent)):s.push(xn(f.innerHTML))}o.push(s)}return o},n}(),le=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function U(n,e,t){if(!n.s){if(t instanceof tn){if(!t.s)return void(t.o=U.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(U.bind(null,n,e),U.bind(null,n,2));n.s=e,n.v=t;var r=n.o;r&&r(n)}}var tn=function(){function n(){}return n.prototype.then=function(e,t){var r=new n,o=this.s;if(o){var i=1&o?e:t;if(i){try{U(r,1,i(this.v))}catch(u){U(r,2,u)}return r}return this}return this.o=function(u){try{var s=u.v;1&u.s?U(r,1,e?e(s):s):t?U(r,1,t(s)):U(r,2,s)}catch(c){U(r,2,c)}},r},n}();function ce(n){return n instanceof tn&&1&n.s}var ct=function(n){function e(r){var o;return(o=n.call(this)||this)._steps=new Map,o.cache=new Map,o.lastProcessorIndexUpdated=-1,r&&r.forEach(function(i){return o.register(i)}),o}T(e,n);var t=e.prototype;return t.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},t.register=function(r,o){if(o===void 0&&(o=null),r){if(r.type===null)throw Error("Processor type is not defined");r.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(r,o),this.afterRegistered(r)}},t.unregister=function(r){if(r){var o=this._steps.get(r.type);o&&o.length&&(this._steps.set(r.type,o.filter(function(i){return i!=r})),this.emit("updated",r))}},t.addProcessorByPriority=function(r,o){var i=this._steps.get(r.type);if(!i){var u=[];this._steps.set(r.type,u),i=u}if(o===null||o<0)i.push(r);else if(i[o]){var s=i.slice(0,o-1),c=i.slice(o+1);this._steps.set(r.type,s.concat(r).concat(c))}else i[o]=r},t.getStepsByType=function(r){return this.steps.filter(function(o){return o.type===r})},t.getSortedProcessorTypes=function(){return Object.keys(H).filter(function(r){return!isNaN(Number(r))}).map(function(r){return Number(r)})},t.process=function(r){try{var o=function(a){return i.lastProcessorIndexUpdated=s.length,i.emit("afterProcess",c),c},i=this,u=i.lastProcessorIndexUpdated,s=i.steps,c=r,f=function(a,p){try{var d=function(l,h,S){if(typeof l[le]=="function"){var b,v,N,g=l[le]();if(function m(y){try{for(;!(b=g.next()).done;)if((y=h(b.value))&&y.then){if(!ce(y))return void y.then(m,N||(N=U.bind(null,v=new tn,2)));y=y.v}v?U(v,1,y):v=y}catch(z){U(v||(v=new tn),2,z)}}(),g.return){var w=function(m){try{b.done||g.return()}catch{}return m};if(v&&v.then)return v.then(w,function(m){throw w(m)});w()}return v}if(!("length"in l))throw new TypeError("Object is not iterable");for(var j=[],M=0;M<l.length;M++)j.push(l[M]);return function(m,y,z){var E,X,I=-1;return function Q(A){try{for(;++I<m.length;)if((A=y(I))&&A.then){if(!ce(A))return void A.then(Q,X||(X=U.bind(null,E=new tn,2)));A=A.v}E?U(E,1,A):E=A}catch(Ue){U(E||(E=new tn),2,Ue)}}(),E}(j,function(m){return h(j[m])})}(s,function(l){var h=i.findProcessorIndexByID(l.id),S=function(){if(h>=u)return Promise.resolve(l.process(c)).then(function(b){i.cache.set(l.id,c=b)});c=i.cache.get(l.id)}();if(S&&S.then)return S.then(function(){})})}catch(l){return p(l)}return d&&d.then?d.then(void 0,p):d}(0,function(a){throw B.error(a),i.emit("error",c),a});return Promise.resolve(f&&f.then?f.then(o):o())}catch(a){return Promise.reject(a)}},t.findProcessorIndexByID=function(r){return this.steps.findIndex(function(o){return o.id==r})},t.setLastProcessorIndex=function(r){var o=this.findProcessorIndexByID(r.id);this.lastProcessorIndexUpdated>o&&(this.lastProcessorIndexUpdated=o)},t.processorPropsUpdated=function(r){this.setLastProcessorIndex(r),this.emit("propsUpdated"),this.emit("updated",r)},t.afterRegistered=function(r){this.setLastProcessorIndex(r),this.emit("afterRegister"),this.emit("updated",r)},D(e,[{key:"steps",get:function(){for(var r,o=[],i=O(this.getSortedProcessorTypes());!(r=i()).done;){var u=this._steps.get(r.value);u&&u.length&&(o=o.concat(u))}return o.filter(function(s){return s})}}]),e}(Un),ft=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){try{return Promise.resolve(this.props.storage.get(t))}catch(r){return Promise.reject(r)}},D(e,[{key:"type",get:function(){return H.Extractor}}]),e}(G),dt=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){var r=Sn.fromArray(t.data);return r.length=t.total,r},D(e,[{key:"type",get:function(){return H.Transformer}}]),e}(G),pt=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(t){return typeof t[1]!="function"}).reduce(function(t,r){var o;return C({},t,((o={})[r[0]]=r[1],o))},{})},D(e,[{key:"type",get:function(){return H.Initiator}}]),e}(G),ht=function(n){function e(){return n.apply(this,arguments)||this}T(e,n);var t=e.prototype;return t.castData=function(r){if(!r||!r.length)return[];if(!this.props.header||!this.props.header.columns)return r;var o=rn.leafColumns(this.props.header.columns);return r[0]instanceof Array?r.map(function(i){var u=0;return o.map(function(s,c){return s.data!==void 0?(u++,typeof s.data=="function"?s.data(i):s.data):i[c-u]})}):typeof r[0]!="object"||r[0]instanceof Array?[]:r.map(function(i){return o.map(function(u,s){return u.data!==void 0?typeof u.data=="function"?u.data(i):u.data:u.id?i[u.id]:(B.error("Could not find the correct cell for column at position "+s+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},t._process=function(r){return{data:this.castData(r.data),total:r.total}},D(e,[{key:"type",get:function(){return H.Transformer}}]),e}(G),_t=function(){function n(){}return n.createFromConfig=function(e){var t=new ct;return e.storage instanceof De&&t.register(new pt({serverStorageOptions:e.server})),t.register(new ft({storage:e.storage})),t.register(new ht({header:e.header})),t.register(new dt),t},n}(),mt=function(n){var e=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return e.state},this.getListeners=function(){return e.listeners},this.dispatch=function(t){if(typeof t!="function")throw new Error("Reducer is not a function");if(e.isDispatching)throw new Error("Reducers may not dispatch actions");e.isDispatching=!0;var r=e.state;try{e.state=t(e.state)}finally{e.isDispatching=!1}for(var o,i=O(e.listeners);!(o=i()).done;)(0,o.value)(e.state,r);return e.state},this.subscribe=function(t){if(typeof t!="function")throw new Error("Listener is not a function");return e.listeners=[].concat(e.listeners,[t]),function(){return e.listeners=e.listeners.filter(function(r){return r!==t})}},this.state=n},je=function(n,e){var t={__c:e="__cC"+ye++,__:null,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&o.some(Dn)},this.sub=function(u){o.push(u);var s=u.componentWillUnmount;u.componentWillUnmount=function(){o.splice(o.indexOf(u),1),s&&s.call(u)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}(),vt=function(){function n(){Object.assign(this,n.defaultConfig())}var e=n.prototype;return e.assign=function(t){return Object.assign(this,t)},e.update=function(t){return t?(this.assign(n.fromPartialConfig(C({},this,t))),this):this},n.defaultConfig=function(){return{store:new mt({status:W.Init,header:void 0,data:null}),plugin:new st,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},n.fromPartialConfig=function(t){var r=new n().assign(t);return typeof t.sort=="boolean"&&t.sort&&r.assign({sort:{multiColumn:!0}}),r.assign({header:rn.createFromConfig(r)}),r.assign({storage:lt.createFromConfig(r)}),r.assign({pipeline:_t.createFromConfig(r)}),r.assign({translator:new tt(r.language)}),r.search&&r.plugin.add({id:"search",position:Z.Header,component:rt}),r.pagination&&r.plugin.add({id:"pagination",position:Z.Footer,component:ot}),r.plugins&&r.plugins.forEach(function(o){return r.plugin.add(o)}),r},n}();function Me(n){var e,t=R();return _("td",C({role:n.role,colSpan:n.colSpan,"data-column-id":n.column&&n.column.id,className:P(k("td"),n.className,t.className.td),style:C({},n.style,t.style.td),onClick:function(r){n.messageCell||t.eventEmitter.emit("cellClick",r,n.cell,n.column,n.row)}},(e=n.column)?typeof e.attributes=="function"?e.attributes(n.cell.data,n.row,n.column):e.attributes:{}),n.column&&typeof n.column.formatter=="function"?n.column.formatter(n.cell.data,n.row,n.column):n.column&&n.column.plugin?_(En,{pluginId:n.column.id,props:{column:n.column,cell:n.cell,row:n.row}}):n.cell.data)}function Fn(n){var e=R(),t=q(function(r){return r.header});return _("tr",{className:P(k("tr"),e.className.tr),onClick:function(r){n.messageRow||e.eventEmitter.emit("rowClick",r,n.row)}},n.children?n.children:n.row.cells.map(function(r,o){var i=function(u){if(t){var s=rn.leafColumns(t.columns);if(s)return s[u]}return null}(o);return i&&i.hidden?null:_(Me,{key:r.id,cell:r,row:n.row,column:i})}))}function An(n){return _(Fn,{messageRow:!0},_(Me,{role:"alert",colSpan:n.colSpan,messageCell:!0,cell:new On(n.message),className:P(k("message"),n.className?n.className:null)}))}function gt(){var n=R(),e=q(function(u){return u.data}),t=q(function(u){return u.status}),r=q(function(u){return u.header}),o=Pn(),i=function(){return r?r.visibleColumns.length:0};return _("tbody",{className:P(k("tbody"),n.className.tbody)},e&&e.rows.map(function(u){return _(Fn,{key:u.id,row:u})}),t===W.Loading&&(!e||e.length===0)&&_(An,{message:o("loading"),colSpan:i(),className:P(k("loading"),n.className.loading)}),t===W.Rendered&&e&&e.length===0&&_(An,{message:o("noRecordsFound"),colSpan:i(),className:P(k("notfound"),n.className.notfound)}),t===W.Error&&_(An,{message:o("error"),colSpan:i(),className:P(k("error"),n.className.error)}))}var yt=function(n){function e(){return n.apply(this,arguments)||this}T(e,n);var t=e.prototype;return t.validateProps=function(){for(var r,o=O(this.props.columns);!(r=o()).done;){var i=r.value;i.direction===void 0&&(i.direction=1),i.direction!==1&&i.direction!==-1&&B.error("Invalid sort direction "+i.direction)}},t.compare=function(r,o){return r>o?1:r<o?-1:0},t.compareWrapper=function(r,o){for(var i,u=0,s=O(this.props.columns);!(i=s()).done;){var c=i.value;if(u!==0)break;var f=r.cells[c.index].data,a=o.cells[c.index].data;u|=typeof c.compare=="function"?c.compare(f,a)*c.direction:this.compare(f,a)*c.direction}return u},t._process=function(r){var o=[].concat(r.rows);o.sort(this.compareWrapper.bind(this));var i=new Sn(o);return i.length=r.length,i},D(e,[{key:"type",get:function(){return H.Sort}}]),e}(G),fe=function(n,e,t,r){return function(o){var i=o.sort?[].concat(o.sort.columns):[],u=i.length,s=i.find(function(h){return h.index===n}),c=!1,f=!1,a=!1,p=!1;if(s!==void 0?t?s.direction===-1?a=!0:p=!0:u===1?p=!0:u>1&&(f=!0,c=!0):u===0?c=!0:u>0&&!t?(c=!0,f=!0):u>0&&t&&(c=!0),f&&(i=[]),c)i.push({index:n,direction:e,compare:r});else if(p){var d=i.indexOf(s);i[d].direction=e}else if(a){var l=i.indexOf(s);i.splice(l,1)}return C({},o,{sort:{columns:i}})}},Oe=function(n,e,t){return function(r){var o=(r.sort?[].concat(r.sort.columns):[]).find(function(i){return i.index===n});return C({},r,o?fe(n,o.direction===1?-1:1,e,t)(r):fe(n,1,e,t)(r))}},bt=function(n){function e(){return n.apply(this,arguments)||this}return T(e,n),e.prototype._process=function(t){var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.columns)),this.props.body&&(r.body=this.props.body(t.body,this.props.columns)),C({},t,r)},D(e,[{key:"type",get:function(){return H.ServerSort}}]),e}(G);function wt(n){var e=R(),t=Pn(),r=K(0),o=r[0],i=r[1],u=K(void 0),s=u[0],c=u[1],f=q(function(l){return l.sort}),a=on().dispatch,p=e.sort;F(function(){var l=d();l&&c(l)},[]),F(function(){return e.pipeline.register(s),function(){return e.pipeline.unregister(s)}},[e,s]),F(function(){if(f){var l=f.columns.find(function(h){return h.index===n.index});i(l?l.direction:0)}},[f]),F(function(){s&&f&&s.setProps({columns:f.columns})},[f]);var d=function(){var l=H.Sort;return p&&typeof p.server=="object"&&(l=H.ServerSort),e.pipeline.getStepsByType(l).length===0?l===H.ServerSort?new bt(C({columns:f?f.columns:[]},p.server)):new yt({columns:f?f.columns:[]}):null};return _("button",{tabIndex:-1,"aria-label":t("sort.sort"+(o===1?"Desc":"Asc")),title:t("sort.sort"+(o===1?"Desc":"Asc")),className:P(k("sort"),k("sort",function(l){return l===1?"asc":l===-1?"desc":"neutral"}(o)),e.className.sort),onClick:function(l){l.preventDefault(),l.stopPropagation(),a(Oe(n.index,l.shiftKey===!0&&p.multiColumn,n.compare))}})}function xt(n){var e,t=function(u){return u instanceof MouseEvent?Math.floor(u.pageX):Math.floor(u.changedTouches[0].pageX)},r=function(u){u.stopPropagation();var s,c,f,a,p,d=parseInt(n.thRef.current.style.width,10)-t(u);s=function(l){return o(l,d)},(c=10)===void 0&&(c=100),e=function(){var l=[].slice.call(arguments);f?(clearTimeout(a),a=setTimeout(function(){Date.now()-p>=c&&(s.apply(void 0,l),p=Date.now())},Math.max(c-(Date.now()-p),0))):(s.apply(void 0,l),p=Date.now(),f=!0)},document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)},o=function(u,s){u.stopPropagation();var c=n.thRef.current;s+t(u)>=parseInt(c.style.minWidth,10)&&(c.style.width=s+t(u)+"px")},i=function u(s){s.stopPropagation(),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",u)};return _("div",{className:P(k("th"),k("resizable")),onMouseDown:r,onTouchStart:r,onClick:function(u){return u.stopPropagation()}})}function kt(n){var e=R(),t=dn(null),r=K({}),o=r[0],i=r[1],u=on().dispatch;F(function(){if(e.fixedHeader&&t.current){var a=t.current.offsetTop;typeof a=="number"&&i({top:a})}},[t]);var s,c=function(){return n.column.sort!=null},f=function(a){a.stopPropagation(),c()&&u(Oe(n.index,a.shiftKey===!0&&e.sort.multiColumn,n.column.sort.compare))};return _("th",C({ref:t,"data-column-id":n.column&&n.column.id,className:P(k("th"),c()?k("th","sort"):null,e.fixedHeader?k("th","fixed"):null,e.className.th),onClick:f,style:C({},e.style.th,{minWidth:n.column.minWidth,width:n.column.width},o,n.style),onKeyDown:function(a){c()&&a.which===13&&f(a)},rowSpan:n.rowSpan>1?n.rowSpan:void 0,colSpan:n.colSpan>1?n.colSpan:void 0},(s=n.column)?typeof s.attributes=="function"?s.attributes(null,null,n.column):s.attributes:{},c()?{tabIndex:0}:{}),_("div",{className:k("th","content")},n.column.name!==void 0?n.column.name:n.column.plugin!==void 0?_(En,{pluginId:n.column.plugin.id,props:{column:n.column}}):null),c()&&_(wt,C({index:n.index},n.column.sort)),n.column.resizable&&n.index<e.header.visibleColumns.length-1&&_(xt,{column:n.column,thRef:t}))}function Nt(){var n,e=R(),t=q(function(r){return r.header});return t?_("thead",{key:t.id,className:P(k("thead"),e.className.thead)},(n=rn.tabularFormat(t.columns)).map(function(r,o){return function(i,u,s){var c=rn.leafColumns(t.columns);return _(Fn,null,i.map(function(f){return f.hidden?null:function(a,p,d,l){var h=function(S,b,v){var N=rn.maximumDepth(S),g=v-b;return{rowSpan:Math.floor(g-N-N/g),colSpan:S.columns&&S.columns.length||1}}(a,p,l);return _(kt,{column:a,index:d,colSpan:h.colSpan,rowSpan:h.rowSpan})}(f,u,c.indexOf(f),s)}))}(r,o,n.length)})):null}var de=function(n){return function(e){return C({},e,{header:n})}};function St(){var n=R(),e=dn(null),t=on().dispatch;return F(function(){e&&t(function(r){return function(o){return C({},o,{tableRef:r})}}(e))},[e]),_("table",{ref:e,role:"grid",className:P(k("table"),n.className.table),style:C({},n.style.table,{height:n.height})},_(Nt,null),_(gt,null))}function Ct(){var n=K(!0),e=n[0],t=n[1],r=dn(null),o=R();return F(function(){r.current.children.length===0&&t(!1)},[r]),e?_("div",{ref:r,className:P(k("head"),o.className.header),style:C({},o.style.header)},_(En,{position:Z.Header})):null}function Pt(){var n=dn(null),e=K(!0),t=e[0],r=e[1],o=R();return F(function(){n.current.children.length===0&&r(!1)},[n]),t?_("div",{ref:n,className:P(k("footer"),o.className.footer),style:C({},o.style.footer)},_(En,{position:Z.Footer})):null}function Et(){var n=R(),e=on().dispatch,t=q(function(s){return s.status}),r=q(function(s){return s.data}),o=q(function(s){return s.tableRef}),i={current:null};F(function(){return e(de(n.header)),u(),n.pipeline.on("updated",u),function(){return n.pipeline.off("updated",u)}},[]),F(function(){n.header&&t===W.Loaded&&r!=null&&r.length&&e(de(n.header.adjustWidth(n,o,i)))},[r,n,i]);var u=function(){try{e(function(c){return C({},c,{status:W.Loading})});var s=function(c,f){try{var a=Promise.resolve(n.pipeline.process()).then(function(p){e(function(d){return function(l){return d?C({},l,{data:d,status:W.Loaded}):l}}(p)),setTimeout(function(){e(function(d){return d.status===W.Loaded?C({},d,{status:W.Rendered}):d})},0)})}catch(p){return f(p)}return a&&a.then?a.then(void 0,f):a}(0,function(c){B.error(c),e(function(f){return C({},f,{data:null,status:W.Error})})});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(c){return Promise.reject(c)}};return _("div",{role:"complementary",className:P("gridjs",k("container"),t===W.Loading?k("loading"):null,n.className.container),style:C({},n.style.container,{width:n.width})},t===W.Loading&&_("div",{className:k("loading-bar")}),_(Ct,null),_("div",{className:k("wrapper"),style:{height:n.height}},_(St,null)),_(Pt,null),_("div",{ref:i,id:"gridjs-temp",className:k("temp")}))}var It=function(n){function e(r){var o;return(o=n.call(this)||this).config=void 0,o.plugin=void 0,o.config=new vt().assign({instance:Vn(o),eventEmitter:Vn(o)}).update(r),o.plugin=o.config.plugin,o}T(e,n);var t=e.prototype;return t.updateConfig=function(r){return this.config.update(r),this},t.createElement=function(){return _(je.Provider,{value:this.config,children:_(Et,{})})},t.forceRender=function(){return this.config&&this.config.container||B.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),sn(this.createElement(),this.config.container),this},t.destroy=function(){this.config.pipeline.clearCache(),sn(null,this.config.container)},t.render=function(r){return r||B.error("Container element cannot be null",!0),r.childNodes.length>0?(B.error("The container element "+r+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=r,sn(this.createElement(),r),this)},e}(Un);function Lt(n){let e;return{c(){e=$("article")},l(t){e=nn(t,"ARTICLE",{}),hn(e).forEach(en)},m(t,r){he(t,e,r),n[18](e)},p:_n,i:_n,o:_n,d(t){t&&en(e),n[18](null)}}}function Tt(n,e,t){let{width:r="100%"}=e,{height:o="auto"}=e,{autoWidth:i=!0}=e,{fixedHeader:u=!1}=e,{resizable:s=!1}=e,{from:c=void 0}=e,{language:f=void 0}=e,{search:a=!1}=e,{sort:p=!1}=e,{pagination:d=!1}=e,{server:l=void 0}=e,{columns:h=void 0}=e,{data:S=void 0}=e,{plugins:b=void 0}=e,{style:v={}}=e,{className:N={}}=e;const g=new It({from:c,data:S,columns:h,server:l,search:a,sort:p,pagination:d,language:f,width:r,height:o,autoWidth:i,plugins:b,fixedHeader:u,resizable:s,style:v,className:N});let w;const j=Fe();g.on("cellClick",(...m)=>j("cellClick",{...m})),g.on("rowClick",(...m)=>j("rowClick",{...m})),g.on("beforeLoad",()=>j("beforeLoad")),g.on("load",m=>j("load",{...m})),g.on("ready",()=>j("ready")),Re(()=>{w&&g.render(w)});function M(m){We[m?"unshift":"push"](()=>{w=m,t(0,w)})}return n.$$set=m=>{"width"in m&&t(1,r=m.width),"height"in m&&t(2,o=m.height),"autoWidth"in m&&t(3,i=m.autoWidth),"fixedHeader"in m&&t(4,u=m.fixedHeader),"resizable"in m&&t(5,s=m.resizable),"from"in m&&t(6,c=m.from),"language"in m&&t(7,f=m.language),"search"in m&&t(8,a=m.search),"sort"in m&&t(9,p=m.sort),"pagination"in m&&t(10,d=m.pagination),"server"in m&&t(11,l=m.server),"columns"in m&&t(12,h=m.columns),"data"in m&&t(13,S=m.data),"plugins"in m&&t(14,b=m.plugins),"style"in m&&t(15,v=m.style),"className"in m&&t(16,N=m.className)},n.$$.update=()=>{n.$$.dirty&114687&&w&&g.updateConfig({from:c,data:S,columns:h,server:l,search:a,sort:p,pagination:d,language:f,width:r,height:o,autoWidth:i,fixedHeader:u,style:v,className:N,resizable:s}).forceRender()},[w,r,o,i,u,s,c,f,a,p,d,l,h,S,b,v,N,g,M]}class At extends _e{constructor(e){super(),me(this,e,Tt,Lt,pe,{width:1,height:2,autoWidth:3,fixedHeader:4,resizable:5,from:6,language:7,search:8,sort:9,pagination:10,server:11,columns:12,data:13,plugins:14,style:15,className:16,instance:17})}get instance(){return this.$$.ctx[17]}}function Ht(n){let e,t,r='<p class="font-mono">List of Countries</p>',o,i,u,s,c,f,a='<div class="wrapper h-1/4 pt-4"><button class="bg-sky-500 p-5 text-white rounded-full hover:bg-sky-700">Generate JSON</button></div>',p;return s=new At({props:{data:n[2],columns:n[0],sort:!0,search:!0,className:n[1],fixedHeader:!0,resizable:!0,height:"600px"}}),{c(){e=$("div"),t=$("div"),t.innerHTML=r,o=Rn(),i=$("div"),u=$("div"),Be(s.$$.fragment),c=Rn(),f=$("div"),f.innerHTML=a,this.h()},l(d){e=nn(d,"DIV",{class:!0});var l=hn(e);t=nn(l,"DIV",{class:!0,["data-svelte-h"]:!0}),Wn(t)!=="svelte-1vb0neu"&&(t.innerHTML=r),o=Bn(l),i=nn(l,"DIV",{class:!0});var h=hn(i);u=nn(h,"DIV",{class:!0});var S=hn(u);ze(s.$$.fragment,S),S.forEach(en),h.forEach(en),c=Bn(l),f=nn(l,"DIV",{class:!0,["data-svelte-h"]:!0}),Wn(f)!=="svelte-1bll2vw"&&(f.innerHTML=a),l.forEach(en),this.h()},h(){un(t,"class","flex items-center justify-center"),un(u,"class","wrapper w-3/4 h-3/4 "),un(i,"class","flex items-center justify-center"),un(f,"class","flex items-center justify-center"),un(e,"class","font-mono")},m(d,l){he(d,e,l),Y(e,t),Y(e,o),Y(e,i),Y(i,u),Ve(s,u,null),Y(e,c),Y(e,f),p=!0},p:_n,i(d){p||(qe(s.$$.fragment,d),p=!0)},o(d){Ge(s.$$.fragment,d),p=!1},d(d){d&&en(e),Ke(s)}}}function Dt(n){return[[{name:"Checkbox",id:"code",formatter:o=>xn(`<input type="checkbox" class="rounded" value='${o}'/>`)},{name:"ISO Code",id:"code"},{name:"Country Name",id:"name"},{name:"Capital",id:"capital"},{name:"Country Outline",id:"outline",formatter:o=>xn(`<img class="h-36 object-center" src='${o}'/>`)}],{td:"h-2"},[{code:"US",name:"United States",capital:"Washington, D.C.",outline:"../../outlines/US.png"},{code:"UK",name:"United Kingdom",capital:"London",outline:"../../outlines/GB.png"},{code:"AU",name:"Australia",capital:"Canberra",outline:"../../outlines/AU.png"},{code:"CA",name:"Canada",capital:"Ottawa",outline:"../../outlines/CA.png"}]]}class Ot extends _e{constructor(e){super(),me(this,e,Dt,Ht,pe,{})}}export{Ot as component};
